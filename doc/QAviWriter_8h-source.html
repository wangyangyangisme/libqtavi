<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>libqtavi: src/QAviWriter.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    </ul>
  </div>
<h1>src/QAviWriter.h</h1><a href="QAviWriter_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/***************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">File                 : QAviWriter.h</span>
<a name="l00003"></a>00003 <span class="comment">Project              : libqtavi</span>
<a name="l00004"></a>00004 <span class="comment">--------------------------------------------------------------------</span>
<a name="l00005"></a>00005 <span class="comment">Copyright            : (C) 2017 by Ion Vasilief</span>
<a name="l00006"></a>00006 <span class="comment">Email (use @ for *)  : ion_vasilief*yahoo.fr</span>
<a name="l00007"></a>00007 <span class="comment">Description          : Easy creation of AVI video files for Qt-based applications</span>
<a name="l00008"></a>00008 <span class="comment">***************************************************************************/</span>
<a name="l00009"></a>00009 <span class="preprocessor">#ifndef Q_AVI_WRITER_H</span>
<a name="l00010"></a>00010 <span class="preprocessor"></span><span class="preprocessor">#define Q_AVI_WRITER_H</span>
<a name="l00011"></a>00011 <span class="preprocessor"></span>
<a name="l00012"></a>00012 <span class="preprocessor">#include &lt;QObject&gt;</span>
<a name="l00013"></a>00013 <span class="preprocessor">#include &lt;QSize&gt;</span>
<a name="l00014"></a>00014 
<a name="l00015"></a>00015 <span class="preprocessor">#include &lt;gwavi.h&gt;</span>
<a name="l00016"></a>00016 <span class="preprocessor">#include &lt;avi-utils.h&gt;</span>
<a name="l00017"></a>00017 
<a name="l00018"></a>00018 <span class="keyword">class </span>QPixmap;
<a name="l00019"></a>00019 <span class="keyword">class </span>QImage;
<a name="l00020"></a>00020 
<a name="l00021"></a><a class="code" href="classQAviWriter.html">00021</a> <span class="keyword">class </span><a class="code" href="classQAviWriter.html">QAviWriter</a> : <span class="keyword">public</span> QObject
<a name="l00022"></a>00022 {
<a name="l00023"></a>00023 <span class="keyword">public</span>:
<a name="l00024"></a>00024     <a class="code" href="classQAviWriter.html#21bf22486f47998c89e90afd58f0bfe3">QAviWriter</a>(<span class="keyword">const</span> QString&amp;, <span class="keyword">const</span> QSize&amp;, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> = 25, <span class="keyword">const</span> QString&amp; = <span class="stringliteral">"MJPG"</span>);
<a name="l00025"></a>00025     <a class="code" href="classQAviWriter.html#b82a904bea767f4ee81c816d6332c8c9">~QAviWriter</a>();
<a name="l00026"></a>00026 
<a name="l00027"></a>00027     <span class="keywordtype">bool</span> <a class="code" href="classQAviWriter.html#8615bd5b86f5642151e61e3d7de992bc">open</a>();
<a name="l00028"></a>00028     <span class="keywordtype">bool</span> <a class="code" href="classQAviWriter.html#d7b30861c7d2743782919875349886f3">close</a>();
<a name="l00029"></a>00029 
<a name="l00031"></a><a class="code" href="classQAviWriter.html#3b5237742e12e3d1ff109e04d66dce62">00031</a>     QString <a class="code" href="classQAviWriter.html#3b5237742e12e3d1ff109e04d66dce62" title="Returns the name of the output file.">fileName</a>(){<span class="keywordflow">return</span> <a class="code" href="classQAviWriter.html#ead281cbc6c1d6b1bf6ba6f6e088f9d4" title="Name of the output .avi file.">d_file_name</a>;}
<a name="l00032"></a>00032 
<a name="l00034"></a><a class="code" href="classQAviWriter.html#29682b5c5cd9e98878488924bed75d24">00034</a>     QString <a class="code" href="classQAviWriter.html#29682b5c5cd9e98878488924bed75d24" title="Returns the name of the file used to set the audio track.">audioFileName</a>(){<span class="keywordflow">return</span> <a class="code" href="classQAviWriter.html#e26a1d13a9d57427b72c3574fa67ceac" title="Name of the input audio file.">d_audio_file_name</a>;}
<a name="l00035"></a>00035     <span class="keywordtype">void</span> <a class="code" href="classQAviWriter.html#709c659c34a4dc0df29420acabae8ec6" title="This function allows you to set an audio track to your AVI file. It should be called...">setAudioFileName</a>(<span class="keyword">const</span> QString&amp;);
<a name="l00036"></a>00036 
<a name="l00038"></a><a class="code" href="classQAviWriter.html#872f2d7da737fb7f4ee7e932523d76da">00038</a>     QString <a class="code" href="classQAviWriter.html#872f2d7da737fb7f4ee7e932523d76da" title="Returns the FourCC representing the codec of the encoded video.">codec</a>(){<span class="keywordflow">return</span> <a class="code" href="classQAviWriter.html#c9a48fee6d246e107256241e32accfa9" title="FourCC representing the codec of the video encoded stream.">d_codec</a>;}
<a name="l00040"></a>00040     <span class="keywordtype">bool</span> <a class="code" href="classQAviWriter.html#ae5440d4ea4f80129ece405d1d846937" title="This function allows you to set the video codec.">setCodec</a>(<span class="keyword">const</span> QString&amp;);
<a name="l00042"></a>00042     <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="classQAviWriter.html#d091a35c9f0f445648f32be5ca7b81d1" title="This function allows you to check if a video codec is supported.">isCodecSupported</a>(<span class="keyword">const</span> QString&amp;);
<a name="l00043"></a>00043 
<a name="l00045"></a><a class="code" href="classQAviWriter.html#16f1f7dc669737e40b5cf5e09d2fa4d0">00045</a>     QSize <a class="code" href="classQAviWriter.html#16f1f7dc669737e40b5cf5e09d2fa4d0" title="Returns the size in pixels of each encoded video frame.">size</a>(){<span class="keywordflow">return</span> <a class="code" href="classQAviWriter.html#50e0ba5336d823269fb9dcafdfe64976" title="Size in pixels.">d_size</a>;}
<a name="l00047"></a>00047     <span class="keywordtype">bool</span> <a class="code" href="classQAviWriter.html#9d7b5223fc203137cb32b804544f2a22" title="This function allows you to reset the video size.">setSize</a>(<span class="keyword">const</span> QSize&amp;);
<a name="l00048"></a>00048 
<a name="l00050"></a><a class="code" href="classQAviWriter.html#3d533018d7cac8e71a60204474cccfc8">00050</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classQAviWriter.html#3d533018d7cac8e71a60204474cccfc8" title="Returns the number of frames in the output video file.">count</a>(){<span class="keywordflow">return</span> <a class="code" href="classQAviWriter.html#dd2f36590ee38a62f86fd1bb590f878a" title="The number of frames in the output video file.">d_frame_count</a>;}
<a name="l00052"></a><a class="code" href="classQAviWriter.html#a5236244a96b494fd4fe3d1c0d1c6618">00052</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classQAviWriter.html#a5236244a96b494fd4fe3d1c0d1c6618" title="Returns the framerate: number of frames per second of the output video file.">framerate</a>(){<span class="keywordflow">return</span> <a class="code" href="classQAviWriter.html#a9e082ea8a8e13527276197c7861342e" title="Framerate: number of frames per second of the output video file.">d_fps</a>;}
<a name="l00053"></a>00053 
<a name="l00055"></a>00055     <span class="keywordtype">bool</span> <a class="code" href="classQAviWriter.html#9304a6a07524c30ae992bdf443576cf4" title="This function allows you to add an encoded video frame to the AVI file.">addFrame</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*, <span class="keywordtype">size_t</span>);
<a name="l00057"></a>00057     <span class="keywordtype">bool</span> <a class="code" href="classQAviWriter.html#9304a6a07524c30ae992bdf443576cf4" title="This function allows you to add an encoded video frame to the AVI file.">addFrame</a>(QPixmap pix, <span class="keyword">const</span> <span class="keywordtype">char</span>* format = <span class="stringliteral">"JPG"</span>, <span class="keywordtype">int</span> quality = -1);
<a name="l00059"></a>00059     <span class="keywordtype">bool</span> <a class="code" href="classQAviWriter.html#9304a6a07524c30ae992bdf443576cf4" title="This function allows you to add an encoded video frame to the AVI file.">addFrame</a>(QImage img, <span class="keyword">const</span> <span class="keywordtype">char</span>* format = <span class="stringliteral">"JPG"</span>, <span class="keywordtype">int</span> quality = -1);
<a name="l00060"></a>00060 
<a name="l00061"></a>00061     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classQAviWriter.html#f86259c3c151fb9071a6abdb0aa2b1e3">audioChannelCount</a>();
<a name="l00062"></a>00062     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classQAviWriter.html#483de7316d45b680e0db6c86df8cc58e">audioSampleRate</a>();
<a name="l00063"></a>00063     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classQAviWriter.html#70ebc02db1a5bb520659a086d82286f3">audioBitsPerSample</a>();
<a name="l00064"></a><a class="code" href="classQAviWriter.html#c587d8457e89693a6da6a1bb9fd690f1">00064</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classQAviWriter.html#c587d8457e89693a6da6a1bb9fd690f1">audioBitRate</a>(){<span class="keywordflow">return</span> <a class="code" href="classQAviWriter.html#b51f1f78c2099e8a6322a68749568ad6" title="The bit rate of the audio track, that is the number of bits encoded per second.">d_bit_rate</a>;}
<a name="l00065"></a>00065 
<a name="l00067"></a>00067     <span class="keyword">static</span> QList&lt;QByteArray&gt; <a class="code" href="classQAviWriter.html#39d0d9c86d456882c41aaf1b06f74690" title="Returns the list of audio formats supported by QAviWriter (only .wav files for the...">supportedAudioFormats</a>();
<a name="l00069"></a>00069     <span class="keyword">static</span> QList&lt;QByteArray&gt; <a class="code" href="classQAviWriter.html#88f928f4a110b94534cb0ee8d368b51f" title="Returns the list of video formats supported by QAviWriter (only .avi files for the...">supportedVideoFormats</a>();
<a name="l00070"></a>00070 
<a name="l00071"></a>00071 <span class="keyword">private</span>:
<a name="l00073"></a>00073     <span class="keywordtype">bool</span> <a class="code" href="classQAviWriter.html#4744cebfcab9cbcdee13835552d2cc23" title="Tries to guess the format of the audio track, based on the assumption that it has...">parseAudioFileFormat</a>();
<a name="l00075"></a>00075     <span class="keywordtype">bool</span> <a class="code" href="classQAviWriter.html#b5fbbb31bb06ce456fa6426eb6cb6777" title="Actually adds the audio track to the output AVI file.">addAudioFile</a>(<span class="keyword">const</span> QString&amp;);
<a name="l00076"></a>00076 
<a name="l00078"></a><a class="code" href="classQAviWriter.html#ead281cbc6c1d6b1bf6ba6f6e088f9d4">00078</a>     QString <a class="code" href="classQAviWriter.html#ead281cbc6c1d6b1bf6ba6f6e088f9d4" title="Name of the output .avi file.">d_file_name</a>;
<a name="l00080"></a><a class="code" href="classQAviWriter.html#e26a1d13a9d57427b72c3574fa67ceac">00080</a>     QString <a class="code" href="classQAviWriter.html#e26a1d13a9d57427b72c3574fa67ceac" title="Name of the input audio file.">d_audio_file_name</a>;
<a name="l00082"></a><a class="code" href="classQAviWriter.html#c9a48fee6d246e107256241e32accfa9">00082</a>     QString <a class="code" href="classQAviWriter.html#c9a48fee6d246e107256241e32accfa9" title="FourCC representing the codec of the video encoded stream.">d_codec</a>;
<a name="l00084"></a><a class="code" href="classQAviWriter.html#50e0ba5336d823269fb9dcafdfe64976">00084</a>     QSize <a class="code" href="classQAviWriter.html#50e0ba5336d823269fb9dcafdfe64976" title="Size in pixels.">d_size</a>;
<a name="l00086"></a><a class="code" href="classQAviWriter.html#a9e082ea8a8e13527276197c7861342e">00086</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classQAviWriter.html#a9e082ea8a8e13527276197c7861342e" title="Framerate: number of frames per second of the output video file.">d_fps</a>;
<a name="l00088"></a><a class="code" href="classQAviWriter.html#dd2f36590ee38a62f86fd1bb590f878a">00088</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classQAviWriter.html#dd2f36590ee38a62f86fd1bb590f878a" title="The number of frames in the output video file.">d_frame_count</a>;
<a name="l00090"></a><a class="code" href="classQAviWriter.html#b51f1f78c2099e8a6322a68749568ad6">00090</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classQAviWriter.html#b51f1f78c2099e8a6322a68749568ad6" title="The bit rate of the audio track, that is the number of bits encoded per second.">d_bit_rate</a>;
<a name="l00091"></a><a class="code" href="classQAviWriter.html#9d7ea453c482868ceff1688dde4cf1a5">00091</a>     <span class="keyword">struct </span>gwavi_t *<a class="code" href="classQAviWriter.html#9d7ea453c482868ceff1688dde4cf1a5">gwavi</a>;
<a name="l00092"></a><a class="code" href="classQAviWriter.html#c956fad317cc9427c856e564e110bb73">00092</a>     <span class="keyword">struct </span>gwavi_audio_t <a class="code" href="classQAviWriter.html#c956fad317cc9427c856e564e110bb73">d_audio_format</a>;
<a name="l00093"></a>00093 };
<a name="l00094"></a>00094 <span class="preprocessor">#endif</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Nov 14 14:02:49 2017 for libqtavi by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
